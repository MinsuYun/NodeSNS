{"version":3,"file":"static/webpack/static/development/pages/index.js.cce880315e5ded9c4814.hot-update.js","sources":["webpack:///./components/PostForm.js"],"sourcesContent":["import React, {useCallback, useState, useEffect} from 'react';\nimport { Form, Input, Button } from 'antd'\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ADD_POST_REQUEST } from '../reducers/post';\n\nconst PostForm = () => {\n\n  const [text, setText] = useState('');\n\n  const { imagePaths, isAddingPost, postAdded } = useSelector( state => state.post )\n  const dispatch = useDispatch();\n\n  const onSubmitForm = useCallback((e) => {\n    e.preventDefault();\n    dispatch({\n      type: ADD_POST_REQUEST,\n      data: {\n        text\n      }\n    })\n  },[])\n  \n  //어떤 특정 조건일 때 효과를 줄 때는, useEffect를 사용한다\n  useEffect(() => {\n    setText('');\n  }, [postAdded === true])\n\n\n  const onChangeText = useCallback((e) => {\n    e.preventDefault();\n    setText(e.target.value);\n  },[])\n\n  return (\n    <Form onSubmit={onSubmitForm} style={{margin: \"20px 0 20px 0\"}} encType='multipart/form-data'>\n      <Input.TextArea maxLength={140} placeholder=\"어떤 신기한 일이 있었나요?\" onChange={onChangeText}/>\n      <div style={{marginTop:\"5px\"}}>\n        <input type=\"file\" multiple hidden />\n        <Button>이미지 업로드</Button>\n        <Button type=\"primary\" style={{ float: 'right'}} htmlType=\"submit\" loading={isAddingPost}>짹짹</Button>\n      </div>\n      <div style={{marginTop:\"40px\"}}>\n        { imagePaths.map( (v,i) => {\n          return (\n            <div key={v} style={{ display: 'inline-block'}}>\n              <img src={'http://localhost:3000/' + v} style ={{width:'200px'}} alt={v} />\n              <div>\n                <Button>제거</Button>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </Form>\n  )\n}\n\nexport default PostForm;"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AAAA;AAJA;AAAA;AAAA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAIA;AACA;AACA;;;;A","sourceRoot":""}